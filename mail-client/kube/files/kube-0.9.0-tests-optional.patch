diff -urN kube-v0.9.0/CMakeLists.txt kube-v0.9.0/CMakeLists.txt
--- kube-v0.9.0/CMakeLists.txt	2021-04-16 11:52:24.109722495 +0200
+++ kube-v0.9.0/CMakeLists.txt	2021-04-16 11:53:04.175283992 +0200
@@ -71,7 +71,9 @@
 add_subdirectory(applications)
 add_subdirectory(views)
 add_subdirectory(accounts)
+if(BUILD_TESTING)
 add_subdirectory(tests)
+endif()
 if (${ENABLE_EXTENSIONS})
     add_subdirectory(extensions)
 endif()
diff -urN kube-v0.9.0/components/CMakeLists.txt kube-v0.9.0/components/CMakeLists.txt
--- kube-v0.9.0/components/CMakeLists.txt	2021-04-16 11:52:24.141723742 +0200
+++ kube-v0.9.0/components/CMakeLists.txt	2021-04-16 11:54:46.379264038 +0200
@@ -8,7 +8,9 @@
 endmacro(install_qml_component)
 
 install_qml_component(kube)
+if(BUILD_TESTING)
 add_subdirectory(kube/tests)
+endif()
 install_qml_component(accounts)
 
 
diff -urN kube-v0.9.0/framework/CMakeLists.txt kube-v0.9.0/framework/CMakeLists.txt
--- kube-v0.9.0/framework/CMakeLists.txt	2021-04-16 11:52:24.161724522 +0200
+++ kube-v0.9.0/framework/CMakeLists.txt	2021-04-16 11:53:29.572273417 +0200
@@ -4,4 +4,6 @@
 install(FILES qmldir DESTINATION ${FRAMEWORK_INSTALL_DIR})
 
 add_subdirectory(src)
+if(BUILD_TESTING)
 add_subdirectory(qml/tests)
+endif()
diff -urN kube-v0.9.0/framework/src/CMakeLists.txt kube-v0.9.0/framework/src/CMakeLists.txt
--- kube-v0.9.0/framework/src/CMakeLists.txt	2021-04-16 11:52:24.177725146 +0200
+++ kube-v0.9.0/framework/src/CMakeLists.txt	2021-04-16 11:54:04.797645279 +0200
@@ -97,9 +97,13 @@
 
 set(BUILD_TESTING ON)
 
+if(BUILD_TESTING)
 add_subdirectory(tests)
+endif()
 add_subdirectory(domain/mime)
+if(BUILD_TESTING)
 add_subdirectory(domain/mime/tests)
 add_subdirectory(domain/settings/tests)
+endif()
 
 feature_summary(WHAT ALL FATAL_ON_MISSING_REQUIRED_PACKAGES)
